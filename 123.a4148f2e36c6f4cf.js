"use strict";(self.webpackChunkNetTec_FrontEnd=self.webpackChunkNetTec_FrontEnd||[]).push([[123],{2123:(Q,d,a)=>{a.r(d),a.d(d,{PublicationsModule:()=>F});var u=a(6895),g=a(7728),p=a(5861),t=a(8256),c=a(679),_=a(8873);let h=(()=>{class n{constructor(){this.postsServices$=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C=(()=>{class n{constructor(){this.userNotFound="Usuario No Encontrado",this.button={title:"\u2764\ufe0f",class:["btn","btn-outline-danger","btn-sm","me-3"]}}ngOnInit(){this.respuesta&&(this.respuesta.id_users_like=this.getUsersLikeList()),this.userLikeComment()}getUsersLikeList(){return[]}getUserName(){const e=this.respuesta?.usuario?.persona;return e?.nombre?e.nombre+" "+e.apellido_paterno+" "+e.apellido_materno:this.userNotFound}likeComment(){!this.userLikeComment()&&this.respuesta&&this.user?.id_usuario&&(this.respuesta.id_users_like?.push(this.user?.id_usuario),this.respuesta.ranking++,this.changeLike())}userLikeComment(){return!!(this.respuesta&&this.user?.id_usuario&&this.respuesta.id_users_like?.includes(this.user?.id_usuario))&&(this.changeLike(),!0)}changeLike(){this.button.class.push("btn-danger"),this.button.title="\u{1f90d}"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comment-model"]],inputs:{pregunta:"pregunta",respuesta:"respuesta",user:"user"},decls:12,vars:5,consts:[[1,"card","mt-3"],[1,"card-header"],[1,"fw-bold","card-title"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-end"],[3,"ngClass","click"],[1,"texto","fw-bold"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"small",2),t._uU(3),t.qZA()(),t.TgZ(4,"div",3)(5,"small",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return s.likeComment()}),t._uU(9),t.qZA(),t.TgZ(10,"span",7),t._uU(11),t.qZA()()()()),2&e&&(t.xp6(3),t.hij("",s.getUserName()," "),t.xp6(3),t.hij(" ",null==s.respuesta?null:s.respuesta.contenido," "),t.xp6(2),t.Q6J("ngClass",s.button.class),t.xp6(1),t.Oqu(s.button.title),t.xp6(2),t.Oqu(null==s.respuesta?null:s.respuesta.ranking))},dependencies:[u.mk]}),n})();var f=a(4378);function b(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-comment-model",2),t.qZA()),2&n){const e=o.$implicit,s=t.oxw();t.xp6(1),t.Q6J("pregunta",s.pregunta)("respuesta",e)("user",s.user)}}let v=(()=>{class n{constructor(e){this.connectionDBService=e,this.listObservers=[],this.showAlert=!1,this.alert={flag:!1,title_true:"",title_false:"Sin Comentarios",class_true:[],class_false:["alert","alert-danger"]}}ngOnInit(){if(this.pregunta&&(this.getRespuestas(),this.pregunta.observableShared)){const e=this.pregunta.observableShared.subscribe(s=>{this.respuestasArr?.unshift(s)});this.listObservers.push(e)}}ngOnDestroy(){this.listObservers.forEach(e=>e.unsubscribe)}getRespuestas(){var e=this;return(0,p.Z)(function*(){e.respuestasArr=e.pregunta?.id_pregunta?yield e.connectionDBService.getRespuestas(e.pregunta.id_pregunta):[]})()}noRespuestas(){return 0==this.respuestasArr?.length}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comments-post"]],inputs:{pregunta:"pregunta",user:"user"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"alert","showAlert"],[3,"pregunta","respuesta","user"]],template:function(e,s){1&e&&(t.YNc(0,b,2,3,"div",0),t._UZ(1,"app-alert-model",1)),2&e&&(t.Q6J("ngForOf",s.respuestasArr),t.xp6(1),t.Q6J("alert",s.alert)("showAlert",s.noRespuestas()))},dependencies:[u.sg,C,f.C]}),n})();var w=a(469);const x=["answerBoxModel"];let P=(()=>{class n{constructor(e){this.connectionDBService=e,this.buttonAnswerSend={title:"Comentar",class:["btn","btn-success","btn-sm","me-3","fw-bold","mb-2"]}}ngOnInit(){}sendAnswer(){var e=this.answerBoxModel?.getComment();e=e||"",this.answerBoxModel?.isFormValid()&&this.user&&this.pregunta&&(this.pregunta?.observableShared?.emit({contenido:e,ranking:0,id_pregunta:this.pregunta?.id_pregunta,id_usuario:this.user?.id_usuario,usuario:this.user}),this.answerBoxModel.resetForm())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-answer-box"]],viewQuery:function(e,s){if(1&e&&t.Gf(x,5),2&e){let r;t.iGM(r=t.CRH())&&(s.answerBoxModel=r.first)}},inputs:{pregunta:"pregunta",user:"user"},decls:5,vars:3,consts:[[3,"user"],["answerBoxModel",""],[1,"d-flex","justify-content-end"],[3,"ngClass","click"]],template:function(e,s){1&e&&(t._UZ(0,"app-anser-box-model",0,1),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){return s.sendAnswer()}),t._uU(4),t.qZA()()),2&e&&(t.Q6J("user",s.user),t.xp6(3),t.Q6J("ngClass",s.buttonAnswerSend.class),t.xp6(1),t.Oqu(s.buttonAnswerSend.title))},dependencies:[u.mk,w.y]}),n})(),A=(()=>{class n{constructor(e){this.elementRef=e}handleError(){this.elementRef.nativeElement.src="https://t3.ftcdn.net/jpg/02/15/14/24/360_F_215142493_N4zguDaD5wuu3d7giEz8HUxTLBHAWaYj.jpg"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["img","appImgBroken",""]],hostBindings:function(e,s){1&e&&t.NdJ("error",function(){return s.handleError()})}}),n})();function Z(n,o){if(1&n&&(t.TgZ(0,"a",7),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.lnq("",null==e.usuario||null==e.usuario.persona?null:e.usuario.persona.nombre," ",null==e.usuario||null==e.usuario.persona?null:e.usuario.persona.apellido_paterno," ",null==e.usuario||null==e.usuario.persona?null:e.usuario.persona.apellido_materno,"")}}function O(n,o){1&n&&(t.TgZ(0,"a",7),t._uU(1,"NaN => Guest"),t.qZA())}function T(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-answer-box",14),t.qZA()),2&n){const e=t.oxw().$implicit,s=t.oxw();t.xp6(1),t.Q6J("pregunta",e)("user",s.user)}}function k(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-comments-post",14),t.qZA()),2&n){const e=t.oxw().$implicit,s=t.oxw();t.xp6(1),t.Q6J("pregunta",e)("user",s.user)}}function S(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"a"),t._UZ(3,"img",5),t.qZA(),t.YNc(4,Z,2,3,"a",6),t.YNc(5,O,2,0,"a",6),t.TgZ(6,"p",7),t._uU(7,"en "),t.TgZ(8,"a",7),t._uU(9),t.qZA()()(),t.TgZ(10,"div",8),t._UZ(11,"input",9)(12,"textarea",10),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showCommentBox(l))}),t._uU(15),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showAnswerBox(l))}),t._uU(17),t.qZA()(),t.YNc(18,T,2,2,"div",13),t.YNc(19,k,2,2,"div",13),t.qZA()()}if(2&n){const e=o.$implicit,s=t.oxw();t.xp6(4),t.Q6J("ngIf",null==e.usuario?null:e.usuario.persona),t.xp6(1),t.Q6J("ngIf",null==e.usuario),t.xp6(4),t.Oqu(null==e.subcategoria?null:e.subcategoria.titulo_subcategoria),t.xp6(2),t.Q6J("value",e.titulo),t.xp6(1),t.Q6J("value",e.descripcion),t.xp6(2),t.Q6J("ngClass",s.buttonComment.class),t.xp6(1),t.hij(" ",s.buttonComment.title," "),t.xp6(1),t.Q6J("ngClass",s.buttonAnswer.class),t.xp6(1),t.hij(" ",s.buttonAnswer.title," "),t.xp6(1),t.Q6J("ngIf",e.showAnswerBox),t.xp6(1),t.Q6J("ngIf",e.showComments)}}let B=(()=>{class n{constructor(e){this.publicationsService=e,this.newPosts=[],this.listObserver=[],this.page={title:"Secci\xf3n de Nuevas Publicaciones",class:["titulo","h3"]},this.buttonComment={title:"Ver Comentarios",class:["btn","btn-outline-success","titulo","fw-bold","mt-2","me-2"]},this.buttonAnswer={title:"Responder",class:["btn","btn-outline-warning","titulo","fw-bold","mt-2"]}}ngOnInit(){const e=this.publicationsService.postsServices$.subscribe(s=>{this.newPosts?.unshift(s)});this.listObserver.push(e)}ngOnDestroy(){this.listObserver.forEach(e=>e.unsubscribe)}showAnswerBox(e){e.showAnswerBox=!e.showAnswerBox,e.showAnswerBox&&(e.showComments=!0,this.checkObservable(e))}showCommentBox(e){e.showComments=!e.showComments,e.showComments&&this.checkObservable(e)}checkObservable(e){e.observableShared||(e.observableShared=new t.vpe)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-section-generic"]],inputs:{newPosts:"newPosts",user:"user"},decls:4,vars:3,consts:[[1,"m-4","m-sm-5"],[3,"ngClass"],["class","widget mb-5",4,"ngFor","ngForOf"],[1,"widget","mb-5"],[1,"one_post","mt-5"],["appImgBroken","","src","","alt","Foto de Perfil",1,"img-thumbnail","me-2"],["class","titulo",4,"ngIf"],[1,"titulo"],[1,"formulario"],["disabled","","type","text","name","titulo_entrada","id","titulo_entrada",1,"form-control","titulo","texto","text-center","fw-bold",3,"value"],["disabled","","name","post","id","post",1,"form-control","mt-4","texto",3,"value"],[1,"d-flex","justify-content-center","justify-content-md-end"],[3,"ngClass","click"],[4,"ngIf"],[3,"pregunta","user"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.qZA(),t.YNc(3,S,20,11,"div",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngClass",s.page.class),t.xp6(1),t.Oqu(s.page.title),t.xp6(1),t.Q6J("ngForOf",s.newPosts))},dependencies:[u.mk,u.sg,u.O5,v,P,A],styles:['.titulo[_ngcontent-%COMP%]{font-feature-settings:"smcp";font-variant:small-caps}.texto[_ngcontent-%COMP%]{color:var(--color-2)}.formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:12rem;max-height:16rem}.widget[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;border-radius:10rem}']}),n})();var i=a(433);function M(n,o){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id_categoria),t.xp6(1),t.hij(" ",e.titulo_categoria," ")}}let y=(()=>{class n{constructor(e,s){this.publicationsService=e,this.connectionDBService=s,this.formPost=new i.cw({}),this.mockCategorias=[],this.showAlert=!1,this.alert={flag:!1,title_true:"Post Enviado con \xc9xito",title_false:"Favor de verificar los campos del Post",class_true:["alert","alert-success"],class_false:["alert","alert-danger"]},this.page={title:"Nueva Entrada",class:["titulo","h3"]},this.post={title:"T\xedtulo de la Entrada",class:["form-control","titulo","texto"],text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum, molestiae quidem sequi officia tempore, unde incidunt magnam omnis nulla eveniet autem quo rerum non minus corporis, culpa iure voluptates. Soluta!"},this.select={class:["form-select","form-select-sm","mb-3","titulo"],defaultOption_title:"Seleccionar Categoria: "},this.button={title:"Enviar",class:["btn","btn-primary","fw-bold","titulo","text-white","mt-2"]}}ngOnInit(){this.getCategorias(),this.formPost=new i.cw({titulo_entrada:new i.NI("",[i.kI.required,i.kI.minLength(5)]),post:new i.NI("",[i.kI.required,i.kI.minLength(8)]),categorie:new i.NI("",[i.kI.required])})}getCategorias(){var e=this;return(0,p.Z)(function*(){e.mockCategorias=yield e.connectionDBService.getCategorias()})()}sendPost(){if(this.showAlert=!0,this.alert.flag=this.formPost.valid){const{titulo_entrada:e,post:s,categorie:r}=this.formPost.value,l={titulo:e,descripcion:s,id_subcategoria:r,usuario:this.user,subcategoria:{titulo_subcategoria:this.getTituloCategoria(r)}};this.publicationsService.postsServices$.emit(l),this.resetForm()}}getTituloCategoria(e){var s="NaN";return this.mockCategorias&&this.mockCategorias.forEach(r=>{r.id_categoria==e&&(s=r.titulo_categoria)}),s}resetForm(){this.formPost.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h),t.Y36(c.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-post"]],inputs:{user:"user"},decls:20,vars:13,consts:[[1,"m-4","m-md-5"],[1,"row"],[1,"col-12"],[1,"widget"],[3,"ngClass"],[1,"formulario",3,"formGroup","ngSubmit"],["type","text","formControlName","titulo_entrada","id","titulo_entrada",3,"ngClass","placeholder"],["maxlength","900","formControlName","post","id","post",1,"form-control","mt-4","texto",3,"placeholder"],[1,"texto","mt-4"],["formControlName","categorie",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-app-indicator"],["d","M5.5 2A3.5 3.5 0 0 0 2 5.5v5A3.5 3.5 0 0 0 5.5 14h5a3.5 3.5 0 0 0 3.5-3.5V8a.5.5 0 0 1 1 0v2.5a4.5 4.5 0 0 1-4.5 4.5h-5A4.5 4.5 0 0 1 1 10.5v-5A4.5 4.5 0 0 1 5.5 1H8a.5.5 0 0 1 0 1H5.5z"],["d","M16 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],[3,"alert","showAlert"],[3,"value"]],template:function(e,s){1&e&&(t.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),t._uU(5),t.qZA(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return s.sendPost()}),t._UZ(7,"input",6)(8,"textarea",7),t.TgZ(9,"label",8),t._uU(10),t.qZA(),t.TgZ(11,"select",9),t.YNc(12,M,2,2,"option",10),t.qZA(),t.TgZ(13,"div",11)(14,"button",4),t.O4$(),t.TgZ(15,"svg",12),t._UZ(16,"path",13)(17,"path",14),t.qZA(),t._uU(18),t.qZA()()(),t.kcU(),t._UZ(19,"app-alert-model",15),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngClass",s.page.class),t.xp6(1),t.Oqu(s.page.title),t.xp6(1),t.Q6J("formGroup",s.formPost),t.xp6(1),t.s9C("placeholder",s.post.title),t.Q6J("ngClass",s.post.class),t.xp6(1),t.s9C("placeholder",s.post.text),t.xp6(2),t.Oqu(s.select.defaultOption_title),t.xp6(1),t.Q6J("ngClass",s.select.class),t.xp6(1),t.Q6J("ngForOf",s.mockCategorias),t.xp6(2),t.Q6J("ngClass",s.button.class),t.xp6(4),t.hij(" ",s.button.title," "),t.xp6(1),t.Q6J("alert",s.alert)("showAlert",s.showAlert))},dependencies:[u.mk,u.sg,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.nD,i.sg,i.u,f.C],styles:[".formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:12rem;max-height:16rem}.formulario[_ngcontent-%COMP%] > .ng-invalid.ng-touched[_ngcontent-%COMP%]{border:solid 2px rgb(163,43,43)!important}.formulario[_ngcontent-%COMP%] > .ng-valid.ng-touched[_ngcontent-%COMP%]{border:solid 2px rgb(43,163,79)!important}.widget[_ngcontent-%COMP%]   .estadisticas[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]{flex:1}.widget[_ngcontent-%COMP%]   .comentarios[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;border-radius:10rem}"]}),n})();const J=[{path:"",component:(()=>{class n{constructor(e,s){this._connectionDBService$=e,this.sessionGuard=s}ngOnInit(){this.setQuestions(),this.setUser()}setUser(){this.user=this.sessionGuard.user}setQuestions(){var e=this;return(0,p.Z)(function*(){e.mockPostList=yield e._connectionDBService$.getPreguntas()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.X),t.Y36(_.I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-publications-page"]],decls:3,vars:3,consts:[[3,"user"],[3,"newPosts","user"]],template:function(e,s){1&e&&t._UZ(0,"app-new-post",0)(1,"hr")(2,"app-section-generic",1),2&e&&(t.Q6J("user",s.user),t.xp6(2),t.Q6J("newPosts",s.mockPostList)("user",s.user))},dependencies:[B,y]}),n})()}];let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(J),g.Bz]}),n})();var U=a(4466);let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,N,U.m]}),n})()}}]);