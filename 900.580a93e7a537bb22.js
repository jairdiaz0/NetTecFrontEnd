"use strict";(self.webpackChunkNetTec_FrontEnd=self.webpackChunkNetTec_FrontEnd||[]).push([[900],{2396:(C,g,r)=>{r.d(g,{H:()=>o});var e=r(8256);let o=(()=>{class a{constructor(){this.postsServices$=new e.vpe}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},4378:(C,g,r)=>{r.d(g,{C:()=>h});var e=r(8256),o=r(6895);function a(c,m){if(1&c&&(e.TgZ(0,"div"),e._UZ(1,"hr"),e.TgZ(2,"div",1)(3,"span"),e._uU(4),e.qZA()()()),2&c){const l=e.oxw();e.xp6(2),e.Q6J("ngClass",l.getClass()),e.xp6(2),e.hij(" ",1==(null==l.alert?null:l.alert.flag)?null==l.alert?null:l.alert.title_true:null==l.alert?null:l.alert.title_false," ")}}let h=(()=>{class c{constructor(){this.showAlert=!1}ngOnInit(){}getClass(){return this.alert?this.alert.flag?this.alert.class_true:this.alert.class_false:[]}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-alert-model"]],inputs:{alert:"alert",showAlert:"showAlert"},decls:1,vars:1,consts:[[4,"ngIf"],["role","alert",3,"ngClass"]],template:function(l,p){1&l&&e.YNc(0,a,5,2,"div",0),2&l&&e.Q6J("ngIf",p.showAlert)},dependencies:[o.mk,o.O5]}),c})()},469:(C,g,r)=>{r.d(g,{y:()=>m});var e=r(433),o=r(8256),a=r(679),h=r(6895),c=r(4378);let m=(()=>{class l{constructor(u){this.connectionDBService=u,this.userNotFound="Usuario No Encontrado",this.formAnswer=new e.cw({}),this.showAlert=!1,this.alert={flag:!1,title_true:"Comentario Enviado con \xc9xito",title_false:"Favor de verificar el comentario",class_true:["alert","alert-success"],class_false:["alert","alert-danger"]},this.cardHeader={title:"NaN",class:["card-header"],classSmall:["fw-bold"]},this.cardBody={title:"Comentario:",classSmall:["fw-bold"]}}ngOnInit(){this.formAnswer=new e.cw({comment:new e.NI("",[e.kI.required,e.kI.minLength(8),e.kI.maxLength(254)])})}getUserName(){const u=this.user?.persona;return u?u.nombre+" "+u.apellido_paterno+" "+u.apellido_materno:this.userNotFound}isFormValid(){return this.formAnswer.valid}resetForm(){this.formAnswer.reset()}getComment(){this.showAlert=!0,this.alert.flag=this.isFormValid();const{comment:u}=this.formAnswer.value;return u}}return l.\u0275fac=function(u){return new(u||l)(o.Y36(a.X))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-anser-box-model"]],inputs:{user:"user"},decls:11,vars:8,consts:[[1,"card","mt-3"],[3,"ngClass"],[1,"card-body"],[3,"formGroup"],[1,"form-group"],["for","comment",3,"ngClass"],["formControlName","comment","id","comment","rows","4",1,"form-control"],[3,"alert","showAlert"]],template:function(u,_){1&u&&(o.TgZ(0,"div",0)(1,"div",1)(2,"small",1),o._uU(3),o.qZA()(),o.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"small",5),o._uU(8),o.qZA(),o._UZ(9,"textarea",6),o.qZA()()(),o._UZ(10,"app-alert-model",7),o.qZA()),2&u&&(o.xp6(1),o.Q6J("ngClass",_.cardHeader.class),o.xp6(1),o.Q6J("ngClass",_.cardHeader.classSmall),o.xp6(1),o.Oqu(_.getUserName()),o.xp6(2),o.Q6J("formGroup",_.formAnswer),o.xp6(2),o.Q6J("ngClass",_.cardBody.classSmall),o.xp6(1),o.Oqu(_.cardBody.title),o.xp6(2),o.Q6J("alert",_.alert)("showAlert",_.showAlert))},dependencies:[h.mk,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,c.C],styles:["textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:solid 2px rgb(163,43,43)!important}textarea.ng-valid.ng-touched[_ngcontent-%COMP%]{border:solid 2px rgb(43,163,79)!important}"]}),l})()},6900:(C,g,r)=>{r.d(g,{P:()=>E});var e=r(8256),o=r(2396),a=r(6895),h=r(5861),c=r(679);let m=(()=>{class s{constructor(){this.userNotFound="Usuario No Encontrado",this.button={title:"\u2764\ufe0f",class:["btn","btn-outline-danger","btn-sm","me-3"]}}ngOnInit(){this.respuesta&&(this.respuesta.id_users_like=this.getUsersLikeList()),this.userLikeComment()}getUsersLikeList(){return[]}getUserName(){const t=this.respuesta?.usuario?.persona;return t?.nombre?t.nombre+" "+t.apellido_paterno+" "+t.apellido_materno:this.userNotFound}likeComment(){!this.userLikeComment()&&this.respuesta&&this.user?.id_usuario&&(this.respuesta.id_users_like?.push(this.user?.id_usuario),this.respuesta.ranking++,this.changeLike())}userLikeComment(){return!!(this.respuesta&&this.user?.id_usuario&&this.respuesta.id_users_like?.includes(this.user?.id_usuario))&&(this.changeLike(),!0)}changeLike(){this.button.class.push("btn-danger"),this.button.title="\u{1f90d}"}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-comment-model"]],inputs:{pregunta:"pregunta",respuesta:"respuesta",user:"user"},decls:12,vars:5,consts:[[1,"card","mt-3"],[1,"card-header"],[1,"fw-bold","card-title"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-end"],[3,"ngClass","click"],[1,"texto","fw-bold"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"small",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"small",4),e._uU(6),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return n.likeComment()}),e._uU(9),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.qZA()()()()),2&t&&(e.xp6(3),e.hij("",n.getUserName()," "),e.xp6(3),e.hij(" ",null==n.respuesta?null:n.respuesta.contenido," "),e.xp6(2),e.Q6J("ngClass",n.button.class),e.xp6(1),e.Oqu(n.button.title),e.xp6(2),e.Oqu(null==n.respuesta?null:n.respuesta.ranking))},dependencies:[a.mk]}),s})();var l=r(4378);function p(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,f=e.oxw();return e.KtG(f.deletePostTmp(d))}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("ngClass",t.buttonDelete.class),e.xp6(1),e.Oqu(t.buttonDelete.title)}}function u(s,i){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"app-comment-model",2),e.YNc(2,p,2,2,"button",3),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("pregunta",n.pregunta)("respuesta",t)("user",n.user),e.xp6(1),e.Q6J("ngIf",n.checkUserPost(t))}}let _=(()=>{class s{constructor(t){this.connectionDBService=t,this.listObservers=[],this.showAlert=!1,this.alert={flag:!1,title_true:"",title_false:"Sin Comentarios",class_true:[],class_false:["alert","alert-danger"]},this.buttonDelete={title:"Eliminar Comentario",class:["btn","btn-outline-danger","btn-sm","titulo","fw-bold","mt-2","me-auto"]}}ngOnInit(){if(this.pregunta&&(this.getRespuestas(),this.pregunta.observableShared)){const t=this.pregunta.observableShared.subscribe(n=>{this.respuestasArr?.unshift(n)});this.listObservers.push(t)}}ngOnDestroy(){this.listObservers.forEach(t=>t.unsubscribe)}getRespuestas(){var t=this;return(0,h.Z)(function*(){t.respuestasArr=t.pregunta?.id_pregunta?yield t.connectionDBService.getRespuestas(t.pregunta.id_pregunta):[]})()}noRespuestas(){return 0==this.respuestasArr?.length}checkUserPost(t){return console.log(t),this.user?.id_usuario==t.id_usuario||102==this.user?.id_rol}deletePostTmp(t){this.respuestasArr=this.respuestasArr?.filter(n=>n!=t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(c.X))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-comments-post"]],inputs:{pregunta:"pregunta",user:"user"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"alert","showAlert"],[3,"pregunta","respuesta","user"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(t,n){1&t&&(e.YNc(0,u,3,4,"div",0),e._UZ(1,"app-alert-model",1)),2&t&&(e.Q6J("ngForOf",n.respuestasArr),e.xp6(1),e.Q6J("alert",n.alert)("showAlert",n.noRespuestas()))},dependencies:[a.mk,a.sg,a.O5,m,l.C]}),s})();var b=r(469);const w=["answerBoxModel"];let x=(()=>{class s{constructor(t){this.connectionDBService=t,this.buttonAnswerSend={title:"Comentar",class:["btn","btn-success","btn-sm","me-3","fw-bold","mb-2"]}}ngOnInit(){}sendAnswer(){var t=this.answerBoxModel?.getComment();t=t||"",this.answerBoxModel?.isFormValid()&&this.user&&this.pregunta&&(this.pregunta?.observableShared?.emit({contenido:t,ranking:0,id_pregunta:this.pregunta?.id_pregunta,id_usuario:this.user?.id_usuario,usuario:this.user}),this.answerBoxModel.resetForm())}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(c.X))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-answer-box"]],viewQuery:function(t,n){if(1&t&&e.Gf(w,5),2&t){let d;e.iGM(d=e.CRH())&&(n.answerBoxModel=d.first)}},inputs:{pregunta:"pregunta",user:"user"},decls:5,vars:3,consts:[[3,"user"],["answerBoxModel",""],[1,"d-flex","justify-content-end"],[3,"ngClass","click"]],template:function(t,n){1&t&&(e._UZ(0,"app-anser-box-model",0,1),e.TgZ(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.sendAnswer()}),e._uU(4),e.qZA()()),2&t&&(e.Q6J("user",n.user),e.xp6(3),e.Q6J("ngClass",n.buttonAnswerSend.class),e.xp6(1),e.Oqu(n.buttonAnswerSend.title))},dependencies:[a.mk,b.y]}),s})(),A=(()=>{class s{constructor(t){this.elementRef=t}handleError(){this.elementRef.nativeElement.src="https://t3.ftcdn.net/jpg/02/15/14/24/360_F_215142493_N4zguDaD5wuu3d7giEz8HUxTLBHAWaYj.jpg"}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq))},s.\u0275dir=e.lG2({type:s,selectors:[["img","appImgBroken",""]],hostBindings:function(t,n){1&t&&e.NdJ("error",function(){return n.handleError()})}}),s})();function P(s,i){if(1&s&&(e.TgZ(0,"a",8),e._uU(1),e.qZA()),2&s){const t=e.oxw().$implicit;e.xp6(1),e.lnq("",null==t.usuario||null==t.usuario.persona?null:t.usuario.persona.nombre," ",null==t.usuario||null==t.usuario.persona?null:t.usuario.persona.apellido_paterno," ",null==t.usuario||null==t.usuario.persona?null:t.usuario.persona.apellido_materno,"")}}function T(s,i){1&s&&(e.TgZ(0,"a",8),e._uU(1,"NaN => Guest"),e.qZA())}function O(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,f=e.oxw();return e.KtG(f.deletePostTmp(d))}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("ngClass",t.buttonDelete.class),e.xp6(1),e.Oqu(t.buttonDelete.title)}}function Z(s,i){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"app-answer-box",16),e.qZA()),2&s){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("pregunta",t)("user",n.user)}}function B(s,i){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"app-comments-post",16),e.qZA()),2&s){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("pregunta",t)("user",n.user)}}function M(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"a"),e._UZ(3,"img",6),e.qZA(),e.YNc(4,P,2,3,"a",7),e.YNc(5,T,2,0,"a",7),e.TgZ(6,"p",8),e._uU(7,"en "),e.TgZ(8,"a",8),e._uU(9),e.qZA()()(),e.TgZ(10,"div",9),e._UZ(11,"input",10)(12,"textarea",11),e.TgZ(13,"div",12),e.YNc(14,O,2,2,"button",13),e.TgZ(15,"button",14),e.NdJ("click",function(){const f=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.showCommentBox(f))}),e._uU(16),e.qZA(),e.TgZ(17,"button",14),e.NdJ("click",function(){const f=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.showAnswerBox(f))}),e._uU(18),e.qZA()(),e.YNc(19,Z,2,2,"div",15),e.YNc(20,B,2,2,"div",15),e.qZA()()}if(2&s){const t=i.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngIf",null==t.usuario?null:t.usuario.persona),e.xp6(1),e.Q6J("ngIf",null==t.usuario),e.xp6(4),e.Oqu(null==t.subcategoria?null:t.subcategoria.titulo_subcategoria),e.xp6(2),e.Q6J("value",t.titulo),e.xp6(1),e.Q6J("value",t.descripcion),e.xp6(2),e.Q6J("ngIf",n.checkUserPost(t)),e.xp6(1),e.Q6J("ngClass",n.buttonComment.class),e.xp6(1),e.hij(" ",n.buttonComment.title," "),e.xp6(1),e.Q6J("ngClass",n.buttonAnswer.class),e.xp6(1),e.hij(" ",n.buttonAnswer.title," "),e.xp6(1),e.Q6J("ngIf",t.showAnswerBox),e.xp6(1),e.Q6J("ngIf",t.showComments)}}function U(s,i){1&s&&(e.TgZ(0,"div",17),e._uU(1,"No se encontrar\xf3n resultados \u{1f622}"),e.qZA())}let E=(()=>{class s{constructor(t){this.publicationsService=t,this.newPosts=[],this.listObserver=[],this.page={title:"Secci\xf3n de Nuevas Publicaciones",class:["titulo","h3"]},this.buttonDelete={title:"Eliminar Post",class:["btn","btn-outline-danger","titulo","fw-bold","mt-2","me-auto"]},this.buttonComment={title:"Ver Comentarios",class:["btn","btn-outline-success","titulo","fw-bold","mt-2","me-2"]},this.buttonAnswer={title:"Responder",class:["btn","btn-outline-warning","titulo","fw-bold","mt-2"]}}ngOnInit(){const t=this.publicationsService.postsServices$.subscribe(n=>{this.newPosts?.unshift(n)});this.listObserver.push(t)}ngOnDestroy(){this.listObserver.forEach(t=>t.unsubscribe)}showAnswerBox(t){t.showAnswerBox=!t.showAnswerBox,t.showAnswerBox&&(t.showComments=!0,this.checkObservable(t))}showCommentBox(t){t.showComments=!t.showComments,t.showComments&&this.checkObservable(t)}checkObservable(t){t.observableShared||(t.observableShared=new e.vpe)}checkUserPost(t){return this.user?.id_usuario==t.usuario?.id_usuario||102==this.user?.id_rol}deletePostTmp(t){this.newPosts=this.newPosts?.filter(n=>n!=t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(o.H))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-section-generic"]],inputs:{newPosts:"newPosts",user:"user"},decls:5,vars:4,consts:[[1,"m-4","m-sm-5"],[3,"ngClass"],["class","widget mb-5",4,"ngFor","ngForOf"],["class","h1",4,"ngIf"],[1,"widget","mb-5"],[1,"one_post","mt-5"],["appImgBroken","","src","","alt","Foto de Perfil",1,"img-thumbnail","me-2"],["class","titulo",4,"ngIf"],[1,"titulo"],[1,"formulario"],["disabled","","type","text","name","titulo_entrada","id","titulo_entrada",1,"form-control","titulo","texto","text-center","fw-bold",3,"value"],["disabled","","name","post","id","post",1,"form-control","mt-4","texto",3,"value"],[1,"d-flex","justify-content-center","justify-content-md-end"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],[4,"ngIf"],[3,"pregunta","user"],[1,"h1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.YNc(3,M,21,12,"div",2),e.YNc(4,U,2,0,"div",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngClass",n.page.class),e.xp6(1),e.Oqu(n.page.title),e.xp6(1),e.Q6J("ngForOf",n.newPosts),e.xp6(1),e.Q6J("ngIf",!n.newPosts||0==(null==n.newPosts?null:n.newPosts.length)))},dependencies:[a.mk,a.sg,a.O5,_,x,A],styles:['.titulo[_ngcontent-%COMP%]{font-feature-settings:"smcp";font-variant:small-caps}.texto[_ngcontent-%COMP%]{color:var(--color-2)}.formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:12rem;max-height:16rem}.widget[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;border-radius:10rem}']}),s})()},679:(C,g,r)=>{r.d(g,{X:()=>c});var e=r(2340),o=r(8256),a=r(529),h=r(5657);let c=(()=>{class m{constructor(p,u){this._httpClient=p,this.cookie=u,this.URL=e.N.url}getAnswers(p){return this._httpClient.post(`${this.URL}/respuestas/getAnswers`,{id_pregunta:p})}getRespuestas(p){return this.getAnswers(p).toPromise()}getQuestions(){return this._httpClient.get(`${this.URL}/preguntas/allQuestions`)}getPreguntas(){return this.getQuestions().toPromise()}getCategories(){return this._httpClient.get(`${this.URL}/categorias/allCategories`)}getCategorias(){return this.getCategories().toPromise()}}return m.\u0275fac=function(p){return new(p||m)(o.LFG(a.eN),o.LFG(h.N))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);